"use strict";(self.webpackChunkctc_browser=self.webpackChunkctc_browser||[]).push([[712],{712:(t,i,s)=>{s.r(i),s.d(i,{draw:()=>f,keyPressed:()=>c,setup:()=>d});class h{constructor(t,i,s){this.x=t,this.y=i,this.velocity=s}update(){return this.y=this.y+this.velocity,!(this.y<-10)}display(t){this.velocity<0?t.fill(127,54,255):t.fill(255,54,127),t.rect(this.x,this.y,5,10)}}class e{constructor(t){this.x=t.width/2,this.bullets=[],this.health=2,this.d=20,this.lastShot=t.millis()}move(t,i){this.x+=i,this.x<10?this.x=10:this.x>t.width-10&&(this.x=t.width-10)}shoot(t){t.millis()-this.lastShot>250&&(this.bullets.push(new h(this.x,t.height-25,-3)),this.lastShot=t.millis())}update(t){const i=[];for(let s of this.bullets)if(s.update())for(let h of t)h.intersects(s)&&i.push(s);else i.push(s);this.bullets=this.bullets.filter((t=>!i.includes(t)))}intersects(t,i){const s=t.height-25,h=t.height-5,e=i.x>=this.x-this.d/2&&i.x<=this.x+this.d/2&&i.y>=s&&i.y<=h;return e&&(this.health-=1),e}display(t){if(this.health>0){this.health>1?t.fill(102,255,102):t.fill(255,255,102),t.rect(this.x,t.height-15,this.d,this.d);for(let i of this.bullets)i.display(t)}}}class l{constructor(t,i,s,h){this.x=i,this.y=s,this.r=10,this.bullets=[],this.nextShot=t.millis()+t.random(8e3)+4e3,this.isDead=!1,this.velocity=h}update(t,i){const s=[];for(let h of this.bullets)h.update()?i.intersects(t,h)&&s.push(h):s.push(h);this.bullets=this.bullets.filter((t=>!s.includes(t))),t.millis()>this.nextShot&&this.shoot(t),this.x+=this.velocity}shiftDown(){this.y+=20,this.velocity=-this.velocity,this.x+=this.velocity}shoot(t){this.isDead||(this.bullets.push(new h(this.x,this.y+this.r,2)),this.nextShot=t.millis()+t.random(8e3)+4e3)}intersects(t){if(this.isDead)return;const i=Math.sqrt((t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y));return this.isDead=i<this.r,this.isDead}display(t){this.isDead||(t.fill(153,0,0),t.ellipse(this.x,this.y,2*this.r,2*this.r));for(let i of this.bullets)i.display(t)}}let o,r,n;function d(){this.createCanvas(640,480),this.rectMode(this.CENTER),this.ellipseMode(this.CENTER),this.noStroke(),r=[],n=!1,o=new e(this);const t=this.width/4;for(let i=0;i<6;i++){const s=i%2==0,h=s?3:2;for(let e=0;e<h;e++)r.push(new l(this,t*(e+1)+(s?0:t/2),20*i+30,1))}}function f(){const t=r.filter((t=>!t.isDead&&t.y>this.height-50));if(o.health<=0||t.length>0)return this.textAlign(this.CENTER,this.CENTER),this.textSize(96),this.fill(255),void this.text("GAME OVER",this.width/2,this.height/2);if(0===r.filter((t=>!t.isDead)).length)return this.textAlign(this.CENTER,this.CENTER),this.textSize(96),this.fill(255),void this.text("YOU WIN!",this.width/2,this.height/2);if(this.background(26),this.keyIsDown(this.RIGHT_ARROW)?o.move(this,2):this.keyIsDown(this.LEFT_ARROW)&&o.move(this,-2),r.filter((t=>!t.isDead&&(t.x<10||t.x>this.width-10))).length>0)for(let t of r)t.shiftDown();if(!n){if(r.filter((t=>!t.isDead&&t.y>this.height/1.9)).length>0)for(let t of r)t.velocity*=2;n=!0}o.update(r);for(let t of r)t.update(this,o);o.display(this);for(let t of r)t.display(this)}function c(){this.keyCode===this.UP_ARROW&&o.shoot(this)}}}]);