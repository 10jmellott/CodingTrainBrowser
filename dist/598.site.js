(self.webpackChunkctc_browser=self.webpackChunkctc_browser||[]).push([[598],{598:(t,s,i)=>{"use strict";i.r(s),i.d(s,{draw:()=>l,setup:()=>d});var h=i(807);class e{constructor(t,s){this.pos=t,this.dir=s}}class o{constructor(t,s,i){this.pos=t.createVector(s,i),this.rays=[];for(let s=0;s<360;s+=3)this.rays.push(new e(this.pos,h.Vector.fromAngle(t.radians(s))))}move(t,s){this.pos.set(t,s)}display(t){t.ellipse(this.pos.x,this.pos.y,10,10)}intersect(t,s){for(let i of this.rays){let h,e=1/0;for(let o of s){const s=o.intersect(t,i);if(s){const t=this.pos.dist(s);t<e&&(e=t,h=s)}}h&&t.line(this.pos.x,this.pos.y,h.x,h.y)}}}class r{constructor(t,s,i,h,e){this.p1=t.createVector(s,i),this.p2=t.createVector(h,e)}display(t){t.line(this.p1.x,this.p1.y,this.p2.x,this.p2.y)}intersect(t,s){const i=s.pos.x,h=s.pos.y,e=s.pos.x+1e-4*s.dir.x,o=s.pos.y+1e-4*s.dir.y,r=this.p1.x,n=this.p1.y,c=this.p2.x,p=this.p2.y,a=(i-e)*(n-p)-(h-o)*(r-c);if(0===a)return;const d=-((i-e)*(h-n)-(h-o)*(i-r))/a;if(d<0||d>1)return;const l=((i-r)*(n-p)-(h-n)*(r-c))/a;return l<0?void 0:t.createVector(i+l*(e-i),h+l*(o-h))}}let n,c=[],p=0,a=1e4;function d(){this.createCanvas(640,480),this.strokeWeight(1);for(let t=0;t<5;t++)c.push(new r(this,this.random()*this.width,this.random()*this.height,this.random()*this.width,this.random()*this.height));c.push(new r(this,0,0,this.width,0)),c.push(new r(this,this.width,0,this.width,this.height)),c.push(new r(this,this.width,this.height,0,this.height)),c.push(new r(this,0,this.height,0,0)),n=new o(this,this.noise(p)*this.width,this.noise(a)*this.height)}function l(){this.background(0),p+=.003,a+=.003,n.move(this.noise(p)*this.width,this.noise(a)*this.height),this.stroke(255),n.intersect(this,c),this.stroke(0),this.fill(255),n.display(this);for(let t of c)t.display(this)}}}]);