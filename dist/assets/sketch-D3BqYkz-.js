function a(s,i){return s>=0&&i>=0&&s<20&&i<20}function n(s,i){return i*20+s}class l{constructor(i,t){this.i=i,this.j=t,this.hasTop=this.hasBottom=this.hasLeft=this.hasRight=!0,this.visited=!1}checkNeighbor(i,t,h){return a(i,t)&&!h[n(i,t)].visited}checkNeighbors(i){let t=[];return this.checkNeighbor(this.i,this.j-1,i)&&t.push(n(this.i,this.j-1)),this.checkNeighbor(this.i,this.j+1,i)&&t.push(n(this.i,this.j+1)),this.checkNeighbor(this.i-1,this.j,i)&&t.push(n(this.i-1,this.j)),this.checkNeighbor(this.i+1,this.j,i)&&t.push(n(this.i+1,this.j)),t}walkTo(i){i.j<this.j?this.hasTop=!1:i.j>this.j?this.hasBottom=!1:i.i<this.i?this.hasLeft=!1:i.i>this.i&&(this.hasRight=!1)}display(i,t,h){this.visited?i.fill(153,51,255):i.fill(30),i.noStroke(),i.rect(this.i*t,this.j*h,t,h),i.strokeWeight(2),i.stroke(200),this.hasTop&&i.line(this.i*t,this.j*h,(this.i+1)*t,this.j*h),this.hasBottom&&i.line(this.i*t,(this.j+1)*h,(this.i+1)*t,(this.j+1)*h),this.hasLeft&&i.line(this.i*t,this.j*h,this.i*t,(this.j+1)*h),this.hasRight&&i.line((this.i+1)*t,this.j*h,(this.i+1)*t,(this.j+1)*h)}}let r,f,o,e;function c(){o=[],e=[0],this.createCanvas(400,400),this.frameRate(30),r=this.width/20,f=this.height/20;for(let s=0;s<20;s++)for(let i=0;i<20;i++)o.push(new l(i,s))}function g(){if(this.background(255),e.length>0){const s=o[e[e.length-1]];s.visited=!0;const i=s.checkNeighbors(o);if(i.length===0)e.pop();else if(i.length>0){const t=i[Math.floor(Math.random()*i.length)],h=o[t];h.walkTo(s),s.walkTo(h),e.push(t)}}for(let s of o)s.display(this,r,f)}export{g as draw,c as setup};
