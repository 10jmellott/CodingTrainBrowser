import{p as y}from"./index-CrEXxzao.js";class u{constructor(){}initialize(i){const o=i.random()*i.width,t=i.random()*i.height;this.prevPosition=i.createVector(o,t),this.position=i.createVector(o,t),this.velocity=i.createVector(0,0),this.color=[],this.color.push(i.random()*255),this.color.push(i.random()*255),this.color.push(i.random()*255),this.color.push(0),this.age=0,this.lifetime=i.random()*500+250}applyVectorForce(i){this.velocity.add(i)}applyScalarForce(i){this.velocity.mult(i)}update(i){this.age=this.age+1,this.age>this.lifetime&&this.initialize(i);const o=this.age/this.lifetime;o<.1?this.color[3]=i.map(o,0,.1,0,20):o>.9?this.color[3]=i.map(o,.9,1,20,0):this.color[3]=20,this.updatePreviousPosition(),this.position.add(this.velocity),(this.position.x<0||this.position.x>i.width||this.position.y<0||this.position.y>i.height)&&this.initialize(i)}updatePreviousPosition(){this.prevPosition.x=this.position.x,this.prevPosition.y=this.position.y}display(i){i.stroke(this.color),i.line(this.position.x,this.position.y,this.prevPosition.x,this.prevPosition.y)}}const a=20;let e=0,n,c;const s=[];function g(){this.createCanvas(400,400),this.frameRate(30),n=this.height/a,c=this.width/a;for(let h=0;h<25;h++){const i=new u;i.initialize(this,this.width,this.height),s.push(i)}this.background(0),this.strokeWeight(1),this.noFill()}function r(){const h=[];let i=0;for(let t=0;t<=n;t++){let l=0;for(let p=0;p<=c;p++){const f=this.noise(l,i,e);var o=y.Vector.fromAngle(f*this.TWO_PI*4);o.normalize(),h.push(o),l+=.05}i+=.05}e+=5e-4;for(let t=0;t<s.length;t++){let l=Math.floor(s[t].position.x/a)+Math.floor(s[t].position.y/a)*c;s[t].applyVectorForce(h[l]),s[t].applyScalarForce(.9),s[t].update(this),s[t].display(this)}}export{r as draw,g as setup};
