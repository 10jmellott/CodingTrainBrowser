let i,o,n,f;function h(){this.createCanvas(400,400),this.textAlign(this.CENTER,this.CENTER),this.textSize(64),l()}function c(){if(f?this.background(245,10,10):this.background(0),n)for(let t of n){const e=t%3,s=(t-e)/3;this.fill(0,255,0),this.rect(e*100,s*100,100,100)}this.stroke(255),this.fill(255);for(let t=0;t<3;t++)for(let e=0;e<3;e++){const s=t*3+e;this.text(i[s],e*100+50,t*100+50)}this.line(100,0,100,300),this.line(200,0,200,300),this.line(0,100,300,100),this.line(0,200,300,200)}function a(){if(n||this.mouseX<=0||this.mouseY<=0||this.mouseX>=this.width||this.mouseY>=this.height)return;const t=(this.mouseX-this.mouseX%100)/100,e=(this.mouseY-this.mouseY%100)/100;if(t>=0&&t<3&&e>=0&&e<3){const s=e*3+t;i[s]||(i[s]=o?"O":"X",o=!o)}n=u(),n&&(n.length==0&&(f=!0),setTimeout(()=>{l()},3e3))}function r(t,e,s){return t&&e&&s?t===e&&e===s:!1}function u(){for(let t=0;t<3;t++){if(r(i[t*3],i[t*3+1],i[t*3+2]))return[t*3,t*3+1,t*3+2];if(r(i[t],i[t+3],i[t+6]))return[t,t+3,t+6]}if(r(i[0],i[4],i[8]))return[0,4,8];if(r(i[2],i[4],i[6]))return[2,4,6];for(let t of i)if(!t)return;return[]}function l(){i=[];for(let t=0;t<9;t++)i.push("");n=null,f=!1,o=!1}export{c as draw,a as mouseClicked,h as setup};
