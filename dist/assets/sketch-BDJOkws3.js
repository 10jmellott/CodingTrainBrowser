let s,l;function d(){this.createCanvas(400,400),this.pixelDensity(1),s=[],l=[];for(let i=0;i<this.height;i++){const e=[],t=[];for(let h=0;h<this.width;h++)e.push({a:1,b:0}),t.push({a:e[h].a,b:e[h].b});s.push(e),l.push(t)}}function m(){for(let i=0;i<10;i++){for(let e=1;e<this.height-1;e++)for(let t=1;t<this.width-1;t++)l[t][e].a=f(t,e),l[t][e].b=r(t,e);p()}this.loadPixels();for(let i=0;i<this.height;i++)for(let e=0;e<this.width;e++){const t=(1-s[e][i].b)*255,h=(e+i*this.width)*4;this.pixels[h+0]=t,this.pixels[h+1]=t,this.pixels[h+2]=t,this.pixels[h+3]=255}this.updatePixels()}function w(){let i=Math.floor(this.mouseX),e=Math.floor(this.mouseY),t=Math.max(i-5,1),h=Math.min(i+5,this.width-1),a=Math.max(e-5,1),c=Math.min(e+5,this.height-1);for(let n=a;n<c;n++)for(let o=t;o<h;o++)s[o][n].b=1}function f(i,e){const t=s[i][e];return t.a+(1*u(i,e)-t.a*t.b*t.b+.055*(1-t.a))}function r(i,e){const t=s[i][e];return t.b+(.5*b(i,e)+t.a*t.b*t.b-(.062+.055)*t.b)}function u(i,e){let t=0;return t+=s[i-1][e-1].a*.05,t+=s[i-1][e].a*.2,t+=s[i-1][e+1].a*.05,t+=s[i][e-1].a*.2,t+=s[i][e].a*-1,t+=s[i][e+1].a*.2,t+=s[i+1][e-1].a*.05,t+=s[i+1][e].a*.2,t+=s[i+1][e+1].a*.05,t}function b(i,e){let t=0;return t+=s[i-1][e-1].b*.05,t+=s[i-1][e].b*.2,t+=s[i-1][e+1].b*.05,t+=s[i][e-1].b*.2,t+=s[i][e].b*-1,t+=s[i][e+1].b*.2,t+=s[i+1][e-1].b*.05,t+=s[i+1][e].b*.2,t+=s[i+1][e+1].b*.05,t}function p(){const i=s;s=l,l=i}export{m as draw,w as mouseClicked,d as setup};
